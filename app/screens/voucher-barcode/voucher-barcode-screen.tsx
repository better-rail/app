import React from "react"
import { observer } from "mobx-react-lite"
import { Image, DynamicColorIOS, Dimensions, ImageStyle, ViewStyle, TextStyle } from "react-native"
import { Screen, Text, Button } from "../../components"
import { VoucherBarcodeScreenProps } from "../../navigators/create-voucher-navigator"
import { color, spacing } from "../../theme"

const { width: deviceWidth } = Dimensions.get("screen")

const ROOT: ViewStyle = {
  backgroundColor: Platform.select({
    ios: DynamicColorIOS({ light: color.background, dark: color.secondaryBackground }),
    android: color.dim,
  }),
  paddingTop: spacing[4],
  paddingHorizontal: spacing[3],
  flex: 1,
}

const SUCCESS_TEXT: TextStyle = {
  marginBottom: spacing[3],
  textAlign: "center",
}

const BARCODE_IMAGE: ImageStyle = {
  alignSelf: "center",
  backgroundColor: "#fff",
  width: deviceWidth - 75,
  height: deviceWidth - 75,
  resizeMode: "contain",
  borderWidth: 1,
  borderColor: color.dim,
}

const INFO_TEXT: TextStyle = {
  maxWidth: 290,
  alignSelf: "center",
  marginVertical: spacing[4],
  textAlign: "center",
  opacity: 0.9,
}

const CLOSE_BUTTON: ViewStyle = {
  width: deviceWidth - 70,
  alignSelf: "center",
}

var base64Icon =
  "data:image/png;base64,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"

export const VoucherBarcodeScreen = observer(function VoucherBarcodeScreen({ navigation }: VoucherBarcodeScreenProps) {
  // Pull in one of our MST stores
  // const { someStore, anotherStore } = useStores()

  // Pull in navigation via hook
  // const navigation = useNavigation()
  return (
    <Screen style={ROOT} preset="scroll" unsafe={true}>
      <Text preset="header" style={SUCCESS_TEXT}>
        השובר מוכן!
      </Text>

      <Image style={BARCODE_IMAGE} source={{ uri: base64Icon }} />
      <Text style={INFO_TEXT}>ניתן לגשת לשובר דרך המסך הראשי גם אחרי סגירת החלון</Text>
      <Button title="סגירה" style={CLOSE_BUTTON} onPress={() => navigation.dangerouslyGetParent().goBack()} />
    </Screen>
  )
})
